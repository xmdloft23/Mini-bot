<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>☭𝙻𝙾𝙵𝚃-𝚀𝚄𝙰𝙽𝚃𝚄𝙼-𝚅𝙸𝙸☭</title>

  <!-- 🌸 Tailwind + Icons -->
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" />

  <style>
    /* 🌸 Animations */
    @keyframes shake {
      0%, 100% { transform: translateX(0); }
      10%, 30%, 50%, 70%, 90% { transform: translateX(-2px); }
      20%, 40%, 60%, 80% { transform: translateX(2px); }
    }

    @keyframes twinkle {
      0% { opacity: 0.2; transform: scale(0.8); }
      50% { opacity: 1; transform: scale(1.1); }
      100% { opacity: 0.2; transform: scale(0.8); }
    }

    /* 🌸 Background video overlay */
    body {
      font-family: 'Poppins', sans-serif;
      overflow: hidden;
    }

    video#bg-video {
      position: fixed;
      top: 0;
      left: 0;
      min-width: 100%;
      min-height: 100%;
      object-fit: cover;
      z-index: -2;
      filter: brightness(0.3) blur(2px);
    }

    /* 🌸 Star glow overlay */
    .star {
      position: absolute;
      background-color: white;
      border-radius: 50%;
      animation: twinkle 2s infinite;
      filter: drop-shadow(0 0 6px #fff);
    }

    /* 🌸 Neon Effects */
    .gradient-text {
      background: linear-gradient(90deg, #00d4ff, #ff00e6);
      -webkit-background-clip: text;
      color: transparent;
    }

    .neon-text {
      text-shadow: 0 0 5px #fff,
                   0 0 10px #00bfff,
                   0 0 20px #00bfff,
                   0 0 30px #00bfff;
    }

    .neon-border {
      box-shadow: 0 0 10px #0073e6,
                  0 0 20px #0073e6,
                  inset 0 0 10px rgba(255,255,255,0.1);
    }

    .neon-button {
      transition: all 0.3s ease-in-out;
      box-shadow: 0 0 10px #ff00de,
                  0 0 20px #ff00de,
                  0 0 30px #0073e6;
    }

    .neon-button:hover {
      transform: scale(1.05);
      box-shadow: 0 0 20px #ff00de, 0 0 40px #0073e6;
    }

    .box::before {
      content: '';
      position: absolute;
      inset: 0;
      border-radius: 1.5rem;
      padding: 2px;
      background: linear-gradient(90deg, #00f2ff, #ff00ff);
      -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
      -webkit-mask-composite: xor;
      mask-composite: exclude;
      opacity: 0.5;
      animation: twinkle 5s infinite;
    }

    .shake-animation { animation: shake 0.5s; }
  </style>
</head>

<body class="min-h-screen flex items-center justify-center bg-black overflow-hidden relative">
  <!-- 🌸 Video Background -->
  <video id="bg-video" autoplay muted loop playsinline>
    <source src="https://cdn.pixabay.com/vimeo/557165692/space-91092.mp4?width=1280&hash=a593dcd6f1b5b9e98d6b99b2a321ae3e5a9d7c1b" type="video/mp4">
  </video>

  <!-- 🌸 Star Overlay -->
  <div id="stars-container" class="fixed inset-0 pointer-events-none z-0"></div>

  <!-- 🌸 Main Box -->
  <div class="container mx-auto px-4 relative z-10">
    <div class="max-w-md mx-auto p-8 bg-black bg-opacity-60 rounded-3xl backdrop-blur-2xl border border-white border-opacity-20 shadow-2xl neon-border relative overflow-hidden box">
      <div class="absolute -inset-1 bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 rounded-3xl opacity-20 blur-xl"></div>

      <div class="relative z-10 text-center">
        <!-- 🌸 Icon -->
        <div class="flex justify-center mb-6">
          <i class="fas fa-user text-6xl gradient-text animate-pulse"></i>
        </div>

        <!-- 🌸 Titles -->
        <h3 class="text-3xl font-extrabold mb-3 gradient-text neon-text tracking-wider">
          ʟɪɴᴋ ᴡɪᴛʜ ʏᴏᴜʀ ᴘʜᴏɴᴇ ɴᴜᴍʙᴇʀ
        </h3>
        <h4 class="text-blue-300 font-medium uppercase tracking-widest mb-6">
          ☭𝙻𝙾𝙵𝚃-𝚀𝚄𝙰𝙽𝚃𝚄𝙼-𝚅𝙸𝙸☭
        </h4>

        <!-- Divider -->
        <div class="flex items-center justify-center mb-8">
          <div class="flex-grow border-t border-white border-opacity-20"></div>
          <span class="mx-3 text-white text-opacity-50 text-xs tracking-widest">ꜱᴇᴄᴜʀᴇᴅ ᴄᴏɴɴᴇᴄᴛɪᴏɴ</span>
          <div class="flex-grow border-t border-white border-opacity-20"></div>
        </div>

        <!-- 📱 Input and Submit (Stacked) -->
        <div class="space-y-4">
          <input
            id="number"
            type="number"
            placeholder="+94xxxxxxxxx"
            class="w-full px-4 py-3 bg-white bg-opacity-10 border border-white border-opacity-20 rounded-xl text-white placeholder-white placeholder-opacity-40 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:bg-opacity-20 transition-all duration-300"
          />
          <button
            id="submit"
            class="w-full px-6 py-3 bg-gradient-to-r from-fuchsia-500 via-purple-600 to-blue-500 rounded-xl text-white font-bold uppercase tracking-wider cursor-pointer neon-button"
          >
            ꜱᴜʙᴍɪᴛ
          </button>
        </div>

        <!-- 💬 Status / Result -->
        <div id="waiting-message" class="text-center gradient-text text-xl hidden mt-4">
          ᴘʀᴏᴄᴇssɪɴɢ ᴄᴏᴅᴇ...
        </div>
        <main id="pair" class="text-center mt-4"></main>
      </div>
    </div>
  </div>

  <!-- ⚙️ Scripts -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.0.0-alpha.1/axios.min.js"></script>
  <script>
    // 🌠 Starfield
    function createStars() {
      const container = document.getElementById('stars-container');
      const starCount = 60;
      for (let i = 0; i < starCount; i++) {
        const star = document.createElement('div');
        star.classList.add('star');
        const size = Math.random() * 2 + 1;
        star.style.width = `${size}px`;
        star.style.height = `${size}px`;
        star.style.left = `${Math.random() * 100}%`;
        star.style.top = `${Math.random() * 100}%`;
        star.style.animationDelay = `${Math.random() * 5}s`;
        container.appendChild(star);
      }
    }
    createStars();

    // 🌈 Elements
    const pairOutput = document.getElementById("pair");
    const submitBtn = document.getElementById("submit");
    const inputNum = document.getElementById("number");
    const box = document.querySelector(".box");

    // 📋 Copy function
    async function Copy() {
      const obj = document.getElementById("copy");
      const text = obj.innerText;
      await navigator.clipboard.writeText(obj.innerText.replace('CODE: ', ''));
      obj.innerText = "ᴄᴏᴘɪᴇᴅ ✅";
      obj.classList.add('bg-green-500', 'bg-opacity-20', 'border-green-500');
      obj.classList.remove('bg-opacity-10', 'border-opacity-20');
      setTimeout(() => {
        obj.innerText = text;
        obj.classList.remove('bg-green-500', 'bg-opacity-20', 'border-green-500');
        obj.classList.add('bg-opacity-10', 'border-opacity-20');
      }, 1500);
    }

    // 🚀 Submit Action
    submitBtn.addEventListener("click", async (e) => {
      e.preventDefault();
      box.classList.add('shake-animation');
      setTimeout(() => box.classList.remove('shake-animation'), 500);

      const numVal = inputNum.value;
      if (!numVal) {
        pairOutput.innerHTML = `<div class="text-red-400 font-bold mt-4 animate-pulse">❗ ᴇɴᴛᴇʀ ʏᴏᴜʀ ᴡʜᴀᴛꜱᴀᴘᴘ ɴᴜᴍʙᴇʀ ᴡɪᴛʜ ᴄᴏᴜɴᴛʀʏ ᴄᴏᴅᴇ.</div>`;
        return;
      }
      if (numVal.replace(/[^0-9]/g, "").length < 11) {
        pairOutput.innerHTML = `<div class="text-red-400 font-bold mt-4 animate-pulse">❌ ɪɴᴠᴀʟɪᴅ ɴᴜᴍʙᴇʀ ꜰᴏʀᴍᴀᴛ ❌</div>`;
        return;
      }

      const cleanNum = numVal.replace(/[^0-9]/g, "");
      inputNum.type = "text";
      inputNum.value = "+" + cleanNum;
      inputNum.classList.add('text-white', 'text-lg');
      pairOutput.innerHTML = `<div class="text-blue-300 font-bold mt-4 animate-pulse">ᴘʟᴇᴀꜱᴇ ᴡᴀɪᴛ ᴡʜɪʟᴇ ᴡᴇ ᴘʀᴏᴄᴇꜱꜱ ʏᴏᴜʀ ʀᴇQᴜᴇꜱᴛ...</div>`;

      try {
        const { data } = await axios(`/code?number=${cleanNum}`);
        const code = data.code || "ꜱᴇʀᴠɪᴄᴇ ᴜɴᴀᴠᴀɪʟᴀʙʟᴇ";
        pairOutput.innerHTML = `
          <div id="copy" onclick="Copy()" class="inline-block mt-6 px-6 py-3 bg-white bg-opacity-10 rounded-xl border border-white border-opacity-20 cursor-pointer hover:bg-opacity-20 transition-all duration-300">
            <span class="font-bold text-white">CODE: </span>
            <span class="font-extrabold text-white text-xl">${code}</span>
          </div>
          <div class="text-white text-opacity-60 text-sm mt-2">Click to copy</div>
        `;
      } catch {
        pairOutput.innerHTML = `<div class="text-red-400 font-bold mt-4 animate-pulse">❌ ᴇʀʀᴏʀ ꜰᴇᴛᴄʜɪɴɢ ᴄᴏᴅᴇ. ᴘʟᴇᴀꜱᴇ ᴛʀʏ ᴀɢᴀɪɴ ❌</div>`;
      }
    });
  </script>
</body>
</html>
